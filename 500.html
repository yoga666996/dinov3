<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>500 - Server Error | DINOv3</title>
    <meta name="description" content="Internal server error. We're working to fix this issue. Please try again later or contact support.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .error-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            background: radial-gradient(ellipse at center, rgba(255, 107, 53, 0.1) 0%, transparent 50%);
        }
        
        .error-content {
            max-width: 600px;
        }
        
        .error-code {
            font-size: 8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 1rem;
        }
        
        .error-title {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 1rem;
        }
        
        .error-description {
            font-size: 1.2rem;
            color: #b3b3b3;
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .error-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .status-info {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        
        .status-info h3 {
            color: white;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .status-info p {
            color: #b3b3b3;
            margin-bottom: 0;
        }
        
        .retry-button {
            margin-top: 1rem;
        }
        
        @media (max-width: 768px) {
            .error-code {
                font-size: 6rem;
            }
            
            .error-title {
                font-size: 2rem;
            }
            
            .error-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-large {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <i class="fas fa-eye brand-icon"></i>
                    <span class="brand-text">DINOv3</span>
                </div>
                <div class="nav-actions">
                    <a href="/" class="btn btn-primary">Back to Home</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Error Page Content -->
    <main class="error-page">
        <div class="error-content">
            <div class="error-code">500</div>
            <h1 class="error-title">Internal Server Error</h1>
            <p class="error-description">
                We're experiencing technical difficulties with our server. 
                Our team has been notified and is working to resolve this issue as quickly as possible.
            </p>
            
            <div class="status-info">
                <h3>
                    <i class="fas fa-tools"></i>
                    What's happening?
                </h3>
                <p>
                    Our servers are temporarily unable to process your request. 
                    This could be due to maintenance, high traffic, or a temporary technical issue.
                </p>
            </div>
            
            <div class="error-actions">
                <button onclick="window.location.reload()" class="btn btn-primary btn-large retry-button">
                    <i class="fas fa-redo"></i>
                    Try Again
                </button>
                <a href="/" class="btn btn-secondary btn-large">
                    <i class="fas fa-home"></i>
                    Go to Homepage
                </a>
            </div>
            
            <div class="status-info">
                <h3>
                    <i class="fas fa-question-circle"></i>
                    Need immediate help?
                </h3>
                <p>
                    If this issue persists, you can:
                    <br>• Check our <a href="https://twitter.com/MetaAI" style="color: #ff6b35;">social media</a> for status updates
                    <br>• Visit the <a href="https://arxiv.org/abs/2304.07193" style="color: #ff6b35;">ArXiv paper</a> directly
                    <br>• Access <a href="#" style="color: #ff6b35;">Hugging Face models</a>
                </p>
            </div>
        </div>
    </main>

    <script>
        // Auto-retry after 30 seconds
        let retryCountdown = 30;
        const retryButton = document.querySelector('.retry-button');
        const originalText = retryButton.innerHTML;
        
        function updateRetryButton() {
            if (retryCountdown > 0) {
                retryButton.innerHTML = `<i class="fas fa-clock"></i> Auto-retry in ${retryCountdown}s`;
                retryCountdown--;
                setTimeout(updateRetryButton, 1000);
            } else {
                window.location.reload();
            }
        }
        
        // Start countdown
        setTimeout(updateRetryButton, 5000); // Wait 5 seconds before starting countdown
        
        // Track 500 errors (for analytics)
        if (typeof gtag !== 'undefined') {
            gtag('event', 'exception', {
                description: '500 Internal Server Error',
                fatal: false,
                custom_parameter: 'server_error'
            });
        }
        
        // Log the error for debugging
        console.error('500 Server Error:', {
            url: window.location.href,
            userAgent: navigator.userAgent,
            timestamp: new Date().toISOString()
        });
        
        // Optional: Send error report to monitoring service
        function sendErrorReport() {
            // Replace with your error monitoring service
            /*
            fetch('/api/error-report', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    type: '500_error',
                    url: window.location.href,
                    userAgent: navigator.userAgent,
                    timestamp: new Date().toISOString()
                })
            }).catch(() => {
                // Silently fail if error reporting fails
            });
            */
        }
        
        sendErrorReport();
    </script>
</body>
</html>